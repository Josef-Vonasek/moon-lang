var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,k){a!=Array.prototype&&a!=Object.prototype&&(a[e]=k.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var e=0;return $jscomp.iteratorPrototype(function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var e=a[Symbol.iterator];return e?e.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,e,k,f){if(e){k=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var b=a[f];b in k||(k[b]={});k=k[b]}a=a[a.length-1];f=k[a];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(k,a,{configurable:!0,writable:!0,value:e})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function e(){this.batch_=null}function k(c){return c instanceof b?c:new b(function(b,a){b(c)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;e.prototype.asyncExecute=function(c){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(c);return this};e.prototype.asyncExecuteBatch_=function(){var c=this;this.asyncExecuteFunction(function(){c.executeBatch_()})};var f=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(c){f(c,
0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c=this.batch_;this.batch_=[];for(var b=0;b<c.length;++b){var a=c[b];delete c[b];try{a()}catch(q){this.asyncThrow_(q)}}}this.batch_=null};e.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var b=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{c(b.resolve,b.reject)}catch(p){b.reject(p)}};b.prototype.createResolveAndReject_=
function(){function c(c){return function(n){a||(a=!0,c.call(b,n))}}var b=this,a=!1;return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};b.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof b)this.settleSameAsPromise_(c);else{a:switch(typeof c){case "object":var a=null!=c;break a;case "function":a=!0;break a;default:a=!1}a?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};b.prototype.resolveToNonPromiseObj_=function(c){var b=
void 0;try{b=c.then}catch(p){this.reject_(p);return}"function"==typeof b?this.settleSameAsThenable_(b,c):this.fulfill_(c)};b.prototype.reject_=function(b){this.settle_(2,b)};b.prototype.fulfill_=function(b){this.settle_(1,b)};b.prototype.settle_=function(b,a){if(0!=this.state_)throw Error("Cannot settle("+b+", "+a|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=a;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=
this.onSettledCallbacks_,a=0;a<b.length;++a)b[a].call(),b[a]=null;this.onSettledCallbacks_=null}};var d=new e;b.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};b.prototype.settleSameAsThenable_=function(b,a){var c=this.createResolveAndReject_();try{b.call(a,c.resolve,c.reject)}catch(q){c.reject(q)}};b.prototype.then=function(a,d){function c(b,a){return"function"==typeof b?function(a){try{f(b(a))}catch(u){h(u)}}:a}var f,h,l=new b(function(b,
a){f=b;h=a});this.callWhenSettled_(c(a,f),c(d,h));return l};b.prototype.catch=function(b){return this.then(void 0,b)};b.prototype.callWhenSettled_=function(b,a){function c(){switch(f.state_){case 1:b(f.result_);break;case 2:a(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?d.asyncExecute(c):this.onSettledCallbacks_.push(function(){d.asyncExecute(c)})};b.resolve=k;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,
c){for(var d=$jscomp.makeIterator(a),f=d.next();!f.done;f=d.next())k(f.value).callWhenSettled_(b,c)})};b.all=function(a){var c=$jscomp.makeIterator(a),d=c.next();return d.done?k([]):new b(function(b,a){function l(a){return function(c){f[a]=c;e--;0==e&&b(f)}}var f=[],e=0;do f.push(void 0),e++,k(d.value).callWhenSettled_(l(f.length-1),a),d=c.next();while(!d.done)})};return b},"es6","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,k,f){$jscomp.initSymbolIterator();k=null!=k?k:function(b){return b};var b=[],d=a[Symbol.iterator];if("function"==typeof d)for(a=d.call(a);!(d=a.next()).done;)b.push(k.call(f,d.value));else{d=a.length;for(var c=0;c<d;c++)b.push(k.call(f,a[c]))}return b}},"es6","es3");$jscomp.owns=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)};
$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,k){for(var f=1;f<arguments.length;f++){var b=arguments[f];if(b)for(var d in b)$jscomp.owns(b,d)&&(a[d]=b[d])}return a}},"es6","es3");$jscomp.iteratorFromArray=function(a,e){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var k=0,f={next:function(){if(k<a.length){var b=k++;return{value:e(b,a[b]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function e$jscomp$0(e,k,f){function b(c,p){if(!k[c]){if(!e[c]){var n="function"==typeof require&&require;if(!p&&n)return n(c,!0);if(d)return d(c,!0);p=Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p;}p=k[c]={exports:{}};e[c][0].call(p.exports,function(d){var f=e[c][1][d];return b(f?f:d)},p,p.exports,e$jscomp$0,e,k,f)}return k[c].exports}for(var d="function"==typeof require&&require,c=0;c<f.length;c++)b(f[c]);return b})({1:[function(a,e,k){(function(f){var b="undefined"!==typeof window,
d=function(b,a){return function(){return a||(a=b())}},c=d(function(){return a("fs")}),n=d(function(){return a("path")}),k=a("xhr-request-promise"),q=function(b){for(var a="0x",c=0;c<b.length;++c)a+=("00"+b.charCodeAt(c).toString(16)).slice(-2);for(;66>a.length;)a+="0";return a};e.exports=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(l,e){e=q(a);var h=d.ethUrl||"https://ropsten.infura.io/sE0I5J1gO2jugs9LndHR",u=d.swarmUrl||"http://swarm-gateways.net",
r=d.chainId||"0x3",y=d.debug,p="moon_"+"0x6161782f7C60a5b6a57F29635d96fE0078E6D2C4".slice(-8)+"_"+e.slice(2);if(!b&&!d.noLocal)for(var t=[n().join(f.cwd(),a+".moon"),n().join(f.cwd(),"moon-base",a+".moon"),n().join(n().dirname(f.cwd()),"moon-base",a+".moon")],w=0;w<t.length;++w)if(c().existsSync(t[w]))return l(c().readFileSync(t[w],"utf8"));if(!d.disableCache)if(b){if(localStorage.getItem(p))return l(Promise.resolve(localStorage.getItem(p)))}else{t=f.env["win32"==f.platform?"USERPROFILE":"HOME"];
t=n().join(t,".moon-base");var m=n().join(t,p);c().existsSync(t)||c().mkdirSync(t);if(c().existsSync(m))return l(Promise.resolve(c().readFileSync(m,"utf8")))}y&&console.log("- Couldn't resolve "+a+" locally. Looking up on Ethereum / Swarm. This may take a while...");k(h,{method:"POST",contentType:"application/json-rpc",body:JSON.stringify({jsonrpc:"2.0",id:Math.random()*Math.pow(2,32)|0,method:"eth_call",params:[{from:"0x0000000000000000000000000000000000000000",to:"0x6161782f7C60a5b6a57F29635d96fE0078E6D2C4",
value:"0x0",data:"0x8eaa6ac0"+e.slice(2),chainId:r,gasPrice:"0x8a94af400",nonce:"0x0",gas:"0x6c9d"},"latest"]})}).then(function(a){a=JSON.parse(a).result.slice(2);return"0000000000000000000000000000000000000000000000000000000000000000"===a?l(null):k(u+"/bzzr:/"+a,{method:"GET"}).then(function(a){if("404 page not found\n"===a)return l(null);d.disableCache||(b?localStorage.setItem(p,a):c().writeFileSync(m,a));return l(a)})}).catch(function(){return l(null)})})}}).call(this,a("_process"))},{_process:9,
"xhr-request-promise":14}],2:[function(a,e,k){function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,m=!1,g=void 0;
try{for(var x=a[Symbol.iterator](),z;!(d=(z=x.next()).done)&&(c.push(z.value),!b||c.length!==b);d=!0);}catch(E){m=!0,g=E}finally{try{if(!d&&x["return"])x["return"]()}finally{if(m)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),c=function m(a,b){return null===b?null:a(b[0])?b[0]:m(a,b[1])},n=function(a){a=function(a){function b(b,f,B,D){for(var v,e,E=/[^a-zA-Z0-9\(\)_{}\[\]\"#\|\/\-<>$]/;E.test(a[g]||"");)++g;if("("===a[g]){++g;var r=[];for(r.push(m(b,
f,0,1));")"!==a[g];){for(r.push(m(b,f,0,0));E.test(a[g]||"");)++g;if(void 0===a[g])throw"No parse.";}++g;return function(a){return function(b){var g=r[0];if(C.hasOwnProperty(g)){var c=r.length-1;for(var x=C[g][1],m=[],d=0;d<x;++d)m.push(d<c?r[d+1](a)(b):b.Var("x"+(d-c)));g=b.Pri(g,m);for(d=0;d<x-c;++d)g=b.Lam("x"+(x-1-c-d),g);return g}c=g(a)(b);for(d=1;d<r.length;++d)c=b.App(c,r[d](a)(b));return c}}}if(/[0-9\-]/.test(a[g])){var y="";for("-"===a[g]&&(y=a[g++]);/[0-9]/.test(a[g]);)y+=a[g++];if("."===
a[g])for(y+=a[g++];/[0-9]/.test(a[g]);)y+=a[g++];if(/^[eE]/.test(a[g]))for(y+=a[g++],/[+\-]/.test(a[g])&&(y+=a[g++]);/[0-9]/.test(a[g]);)y+=a[g++];return function(a){return function(a){return a.Num(Number(y))}}}if(/"/.test(a[g])){++g;for(var h="";!/"/.test(a[g]);){if(void 0===a[g])throw"";if("\\"!==a[g])h+=a[g++];else if(++g,/[\\"\/bfnrt]/.test(a[g]))switch(a[g]){case "b":h+="\b";break;case "f":h+="\f";break;case "n":h+="\n";break;case "r":h+="\r";break;case "t":h+="\t";break;case "\\":h+="\\";break;
case "/":h+="/";break;case '"':h+="";break;default:throw"Bad string literal: "+h;}else if(/u/.test(a[g]))if(++g,b=h[g++]+h[g++]+h[g++]+h[g++],/[0-9a-fA-F]{4}/.test(b))h+=JSON.parse("\\u"+b);else throw"Bad string literal: "+h;if(void 0===a[g])throw"No parse.";}++g;return function(a){return function(a){return a.Str(h)}}}if(/\{/.test(a[g])||/\[/.test(a[g])){D=(B=/\[/.test(a[g++]))?/\]/:/\}/;for(var n=[],k=0;!D.test(a[g]);){var u=B?String(k++):m(b,f,1,0)()({Str:function(a){return a}}),p=m(b,f,0,0);for(n.push([u,
p]);E.test(a[g]);)++g;if(!a[g])throw"No parse.";}B&&n.push(["length",function(a){return function(a){return a.Num(k)}}]);++g;return function(a){return function(b){return b.Map(n.map(function(g){g=d(g,2);return[g[0],(0,g[1])(a)(b)]}))}}}if(/</.test(a[g])){++g;v=m(b,f,0,0);var t="_"+z++;f.push([t,v]);return function(a){return function(a){return a.Var(t)}}}if(/#/.test(a[g]))return++g,v=m(b,f,0,0),function(a){return function(a){return a.Nor(function(a){return v(1)(a)})}};if("//"===a.slice(g,g+2)){for(;a[g]&&
"\n"!==a[g++]&&g!==a.length;);return m(b,f,B,D)}for(var q="";/[a-zA-Z0-9_$]/.test(a[g])&&g!==a.length;)q+=a[g++];if("."===a[g])return e=[],v=m([[q,null],b],e,0,0),function(a){return function(b){return b.Lam(q,l(e,v)(a)(b))}};if(":"!==a[g]||B){if(/\|/.test(a[g]))return++g,e=[],v=m(b,e,0,0),function(a){return function(b){return l(e,v)(a)(b)}};if("@"===a[g])return e=[],v=m([[q,null],b],e),function(a){return function(b){return b.Fix(q,l(e,v,0,0)(a)(b))}};if(D&&C.hasOwnProperty(q))return q;var F=c(function(a){return a[0]===
q},b);if(F){if("_rec"===F[0])throw"Recursive let not allowed: check variable '"+q+"'";return function(a){return function(b){return a&&F[1]?F[1](1)(b):b.Var(F[0])}}}x.push(q);return function(a){return function(a){return a.Var(q)}}}var w=m([[q,"_rec"],b],f,0,0);e=[];v=m([[q,w],b],e,0,0);return function(a){return function(b){return b.Let(q,w(a)(b),l(e,v)(a)(b))}}}function m(c,x,d,f){var z=b(c,x,d,f);return/>/.test(a[g])?(++g,x.push(["_",z]),m(c,x,d,f)):z}var g=0,x=[],z=0,f=[],l=function(a,b){return function(g){return function(c){return a.reduceRight(function(a,
b){b=d(b,2);var x=b[0];return c.App((0,b[1])(g)(c),c.Lam(x,a))},b(g)(c))}}},v=m(null,f,0,0);return{term:l(f,v)(0),deps:x}}(a);return{term:function B(a,b){return a({App:function(a,b){return function(g){return function(c){return c.App(a(g)(c),b(g)(c))}}},Lam:function(a,b){return function(g){return function(c){return c.Lam(a,b([a,g])(c))}}},Var:function(a){return function(b){return function(g){return(c(function(b){return b===a},b)?g.Var:g.Dep)(a)}}},Let:function(a,b,g){return function(c){return function(d){return d.Let(a,
b(c)(d),g([a,c])(d))}}},Fix:function(a,b){return function(g){return function(c){return c.Fix(a,b([a,g])(c))}}},Pri:function(a,b){return function(g){return function(c){return c.Pri(a,b.map(function(a){return a(g)(c)}))}}},Num:function(a){return function(b){return function(b){return b.Num(a)}}},Str:function(a){return function(b){return function(b){return b.Str(a)}}},Map:function(a){return function(b){return function(g){return g.Map(a.map(function(a){a=d(a,2);return[a[0],(0,a[1])(b)(g)]}))}}},Nor:function(a){return function(b){return function(g){return B(w(B(a,
null)),b)(g)}}}})(b,0)}(a.term,null),deps:a.deps}},p=function(a){return'(()=>{"use strict";var '+r.join(",")+";return "+function(a){return a({App:function(a,b){return function(g){return a()+"("+b()+")"}},Lam:function(a,b){return function(g){return g?"(function _"+g+"(_"+a+"){return "+b()+"})":"(_"+a+"=>"+b()+")"}},Var:function(a){return function(b){return"_"+a}},Let:function(a,b,g){return function(c){c=b();var d=g();return/^\(\(\)=>{/.test(d)?"(()=>{var _"+a+"="+c+";"+d.slice(6):"(()=>{var _"+a+"="+
c+";return "+d+"})()"}},Fix:function(a,b){return function(g){return b(a)}},Pri:function(a,b){return function(g){var c;return(c=C[a])[3].apply(c,f(b.map(function(a){return a()})))}},Num:function(a){return function(b){return JSON.stringify(a)}},Str:function(a){return function(b){return JSON.stringify(a)}},Map:function(a){return function(b){return"({"+a.map(function(a){a=d(a,2);return a[0]+":"+(0,a[1])()}).join(",")+"})"}},Dep:function(a){return function(b){return"_"+a}}})()}(a)+"})"},q=function(a){try{return function B(a){if("object"===
("undefined"===typeof a?"undefined":b(a)))return function(b){var g=[],c;for(c in a)g.push([c,B(a[c])(b)]);return b.Map(g)};if("string"===typeof a)return function(b){return b.Str(a)};if("number"===typeof a)return function(b){return b.Num(a)}}(a)}catch(v){throw Error("Couldn't reduce term on fast mode.");}},h=function(a){return q(eval(p(a))())},l=function(a){return"(()=>{\"use strict\";var $P=((a)=>(a.__=1,a));var $D=(a)=>$P(['dep',a]);var $A=(a,b)=>typeof a==='function'?a(b):$P(['app',a,b]);var "+
r.join(",")+","+y.map(function(a){return"$"+a[0]+"="+a[2]}).join(",")+";return "+function(a){return a({App:function(a,b){return"$A("+a+","+b+")"},Lam:function(a,b){return"(_"+a+"=>"+b+")"},Var:function(a){return"_"+a},Let:function(a,b,c){return/^\(\(\)=>{/.test(c)?"(()=>{var _"+a+"="+b+";"+c.slice(6):"(()=>{var _"+a+"="+b+";return "+c+"})()"},Fix:function(a,b){return"(_"+a+"=>(_"+a+"="+b+",_"+a+"))()"},Pri:function(a,b){return"$"+C[a][0]+"("+b.map(function(b,c){return"if"===C[a][0]&&c?"()=>"+b:b}).join(",")+
")"},Num:function(a){return JSON.stringify(a)},Str:function(a){return JSON.stringify(a)},Map:function(a){return"({"+a.map(function(a){a=d(a,2);return a[0]+":"+a[1]}).join(",")+"})"},Dep:function(a){return"$D('"+a+"')"}})}(a)+"})"},t=function(a){return function(a){var c=function g(a){return 26<a?"abcdefghijklmnopqrstuvwxyz"[a%26]+g(a/26|0):"abcdefghijklmnopqrstuvwxyz"[a]};return function x(a,d){var m=function(a){return a.isApp=!0,a},f=function I(a){return m(function(b){return null===b?a:I(function(c){return function(d){return d.App(a(c)(d),
x(b,c)(d))}})})};return a.isApp?a(null)(d):"number"===typeof a?function(b){return b.Num(a)}:"string"===typeof a?function(b){return b.Str(a)}:"function"===typeof a?function(b){return b.Lam(c(d),x(a(f(function(a){return function(a){return a.Var(c(d))}})),d+1)(b))}:"dep"===a[0]?function(b){return b.Var(a[1])}:"app"===a[0]?function(b){return b.App(x(a[1],d)(b),x(a[2],d)(b))}:C.hasOwnProperty(a[0])?function(b){return b.Pri(a[0],a.slice(1).map(function(a){return x(a,d)(b)}))}:"object"===("undefined"===
typeof a?"undefined":b(a))?function(b){var c=[],m;for(m in a)c.push([m,x(a[m],d)(b)]);return b.Map(c)}:a}(a,0)}(a)},w=function(a){return t(eval(l(a))())},A=function(a){var b=function(a){return c(a.length)+a.split("").map(function(a){return c(a.charCodeAt(0))}).join("")},c=function(a){var b="";for(a+=1;1<a;a=a/2|0)b="1"+a%2+b;return b+"0"};return a({App:function(a,b){return function(c){return"10"+a(c)+b(c)}},Lam:function(a,b){return function(c){return"01"+b([a,c])}},Var:function(a){return function(b){return"00"+
c(function z(b){if(b)b=b[0]===a?0:1+z(b[1]);else throw"";return b}(b))}},Dep:function(a){return function(b){var g=Number(a.slice(1));if("$"!==a[0]||isNaN(g))throw"Free var: "+a;return"00"+c(function E(a){return a?1+E(a[1]):0}(b)+g)}},Let:function(a,b,c){return function(g){return"1100"+b(g)+c([a,g])}},Fix:function(a,b){return function(c){return"11100"+b([a,c])}},Pri:function(a,b){return function(c){return"1101"+C[a][5]+b.map(function(a){return a(c)}).join("")}},Num:function(a){return function(b){return"11101"+
c(a)}},Str:function(a){return function(c){return"11110"+b(a)}},Map:function(a){return function(g){return"11111"+c(a.length)+a.map(function(a){a=d(a,2);var c=a[1];return b(a[0])+c(g)}).join("")}}})(null)},u=function(a){var b=0,c=function(){for(var a=f(),b=[],c=0;c<a;++c)b.push(f());return b.map(function(a){return String.fromCharCode(a)}).join("")},f=function(){for(var c=1;"0"!==a[(b+=2)-2];)c=2*c+Number(a[b-1]);return b--,c-1},g=function(c){return a.slice(b,b+c.length)===c?(b+=c.length,!0):!1};return function z(m){if(g("10")){var l=
z(m),e=z(m);return function(a){return a.App(l(a),e(a))}}if(g("01")){var h=z(m+1);return function(a){return a.Lam("v"+m,h(a))}}if(g("00")){var r=f();var y=m-r-1;return function(a){return a.Var(0>y?"$"+(-y-1):"v"+y)}}if(g("1100")){var v=z(m);h=z(m+1);return function(a){return a.Let("v"+m,v(a),h(a))}}if(g("11100"))return h=z(m+1),function(a){return a.Fix("v"+m,h(a))};if(g("1101")){var n=G[a.slice(b,b+=5)],k=[];for(r=0;r<n[1];++r)k.push(z(m));return function(a){return a.Pri(n[0],k.map(function(b){return b(a)}))}}if(g("11101")){var q=
f();return function(a){return a.Num(q)}}if(g("11110")){var u=c();return function(a){return a.Str(u)}}if(g("11111")){var p=f(),t=[];for(r=0;r<p;++r)t.push([c(m),z(m)]);return function(a){return a.Map(t.map(function(b){b=d(b,2);return[b[0],(0,b[1])(a)]}))}}}(0)},r='$F=(a)=>typeof a==="function"?1:0;$S=(a)=>typeof a==="string"?1:0;$N=(a)=>typeof a==="number"?1:0;$O=(a)=>typeof a==="object"&&!a.__?1:0;$U=undefined;$V=undefined'.split(";"),y=[["if",3,"(a,b,c)=>$N(a)?(a?b():c()):$P(['if',a,b(),c()])",function(a,
b,c){return"("+a+"?"+b+":"+c+")"},"000","00000"],["add",2,"(a,b)=>$N(a)&&$N(b)?a+b:$P(['add',a,b])",function(a,b){return"("+a+"+"+b+")"},"001","00001"],["sub",2,"(a,b)=>$N(a)&&$N(b)?a-b:$P(['sub',a,b])",function(a,b){return"("+a+"-"+b+")"},"002","00010"],["mul",2,"(a,b)=>$N(a)&&$N(b)?a*b:$P(['mul',a,b])",function(a,b){return"("+a+"*"+b+")"},"010","00011"],["div",2,"(a,b)=>$N(a)&&$N(b)?a/b:$P(['div',a,b])",function(a,b){return"("+a+"/"+b+")"},"011","00100"],["mod",2,"(a,b)=>$N(a)&&$N(b)?a%b:$P(['mod',a,b])",
function(a,b){return"("+a+"%"+b+")"},"012","00101"],["pow",2,"(a,b)=>$N(a)&&$N(b)?Math.pow(a,b):$P(['pow',a,b])",function(a,b){return"Math.pow("+a+","+b+")"},"020","00110"],["log",2,"(a,b)=>$N(a)&&$N(b)?Math.log(b)/Math.log(a):$P(['log',a,b])",function(a,b){return"Math.log("+b+")/Math.log("+a+")"},"021","00111"],["ltn",2,"(a,b)=>$N(a)&&$N(b)?(a<b?1:0):$P(['ltn',a,b])",function(a,b){return"("+a+"<"+b+"?1:0)"},"022","01000"],["gtn",2,"(a,b)=>$N(a)&&$N(b)?(a>b?1:0):$P(['gtn',a,b])",function(a,b){return"("+
a+">"+b+"?1:0)"},"100","01001"],["eql",2,"(a,b)=>$N(a)&&$N(b)?(a===b?1:0):$P(['eql',a,b])",function(a,b){return"("+a+"==="+b+"?1:0)"},"101","01010"],["flr",1,"(a)=>$N(a)?Math.floor(a):$P(['flr',a])",function(a){return"Math.floor("+a+")"},"102","01011"],["sin",1,"(a)=>$N(a)?Math.sin(a):$P(['sin',a])",function(a){return"Math.sin("+a+")"},"110","01100"],["cos",1,"(a)=>$N(a)?Math.cos(a):$P(['cos',a])",function(a){return"Math.cos("+a+")"},"111","01101"],["tan",1,"(a)=>$N(a)?Math.tan(a):$P(['tan',a])",
function(a){return"Math.tan("+a+")"},"112","01110"],["asn",1,"(a)=>$N(a)?Math.asin(a):$P(['asn',a])",function(a){return"Math.asin("+a+")"},"120","01111"],["acs",1,"(a)=>$N(a)?Math.acos(a):$P(['acs',a])",function(a){return"Math.acos("+a+")"},"121","10000"],["atn",1,"(a)=>$N(a)?Math.atan(a):$P(['atn',a])",function(a){return"Math.atan("+a+")"},"122","10001"],["con",2,"(a,b)=>$S(a)&&$S(b)?a+b:$P(['con',a,b])",function(a,b){return"("+a+"+"+b+")"},"200","10010"],["slc",3,"(a,b,c)=>$S(a)&&$N(b)&&$N(c)?a.slice(b,c):$P(['slc',a,b,c])",
function(a,b,c){return a+".slice("+b+","+c+")"},"201","10011"],["cmp",2,"(a,b)=>$S(a)&&$S(b)?(a===b?1:0):$P(['cmp',a,b])",function(a,b){return a+"==="+b},"202","10100"],["nts",1,"(a)=>$N(a)?String(a):$P(['nts',a])",function(a){return"String("+a+")"},"210","10101"],["stn",1,"(a)=>$S(a)?Number(a):$P(['stn',a])",function(a){return"Number("+a+")"},"211","10110"],["gen",1,"(f,_)=>f(k=>v=>a=>(!$S(k)||!$O(a)?$P(['gen',f]):(a[k]=v,a)))({})",function(a){return a+"(k=>v=>a=>(a[k]=v,a))({})"},"212","10111"],
["get",2,"(a,k)=>$O(a)&&$S(k)?(($V=a[k])!==$U?$V:null):$P(['get',a,k])",function(a,b,c){return"(($V="+a+"["+b+"])!==$U?$V:"+c+")"},"220","11000"],["for",4,"(a,b,c,d)=>{if($N(a)&&$N(b)&&$F(d)){while(a<b)c=d(a++)(c);return c};return $P(['for',a,b,c,d]);}",function(a,b,c,d){return"((i,j,x,f)=>{f="+d+";x="+c+";for(i="+a+",j="+b+";i<j;++i){x=f(i)(x);};return x;})()"},"222","11010"]],C=y.reduce(function(a,b){return a[b[0]]=b,a},{}),G=y.reduce(function(a,b){return a[b[5]]=b,a},{});e.exports={termFromString:function(a){return n(a).term},
termFromStringSafe:function(a){a=n(a);if(0<a.deps.length)throw"Moon term has free variables: "+a.deps.join(", ");return a.term},termFromStringWithDeps:n,termToString:function(a,b){var c=0;return function g(a,f,l){a=d(a,4);var e=a[0],h=a[1];var r=a[2];var y=a[3],n=function(a){return(!l&&0<b?" \n":"")+k((c+=a,c)*(l?0:b||0))};a=function(a){return 0<a?n(a):0>a?(c+=a,""):""};var k=function J(a){return 0===a?"":(b?" ":"")+J(a-1)};f=1===f&&"Lam"!==e||2===f&&"Num"!==e&&"Str"!==e&&"Map"!==e?1:0;switch(e){case "App":return e=
g(h,0,l),e="("===e[0]&&")"===e[e.length-1]?e.slice(1,-1):e,a(f)+"("+e+" "+g(r,0,1)+")"+a(-f);case "Lam":return a(f)+h+"."+(b?" ":"")+g(r,1,l)+a(-f);case "Var":return a(f)+h+a(-f);case "Let":return a(f)+h+":"+(b?" ":"")+g(r,0,l)+" "+n(0)+g(y,0,l)+a(-f);case "Fix":return a(f)+h+"@"+g(r,0,l)+a(-f);case "Pri":return a(f)+"("+h+" "+r.map(function(a){return g(a,0,l)}).join(" ")+")"+a(-f);case "Num":return a(f)+h+a(-f);case "Str":return a(f)+'"'+h+'"'+a(-f);case "Map":r=h.reduce(function(a,b,c){return"length"===
d(b,2)[0]?c:a},null);if(null!==r){var m=Number(h[r][1][1]);r=h.filter(function(a){return"length"!==d(a,2)[0]}).map(function(a){return d(a,2)[1]}).map(function(a,b){return(c+=1,"")+g(a,0,l)+(c+=-1,"")+(b<m-1?","+n(0):"")}).join("");return a(f)+"["+n(1)+r+n(-1)+"]"+a(-f)}r=h.map(function(a,b){a=d(a,2);var c=a[1];return'"'+a[0]+'":'+k(1)+g(c,2,l)+(b<h.length-1?","+n(0):"")}).join("");return a(f)+"{"+n(1)+r+n(-1)+"}"+a(-f)}}(a({App:function(a,b){return["App",a,b]},Lam:function(a,b){return["Lam",a,b]},
Var:function(a){return["Var",a]},Let:function(a,b,c){return["Let",a,b,c]},Fix:function(a,b){return["Fix",a,b]},Pri:function(a,b){return["Pri",a,b]},Num:function(a){return["Num",a]},Str:function(a){return["Str",a]},Map:function(a){return["Map",a]},Dep:function(a){return["Var",a]}}),0,0)},termCompileFast:p,termDecompileFast:q,termReduceFast:h,termCompileFull:l,termDecompileFull:t,termReduceFull:w,termReduce:function(a){return function(b){try{return h(a)(b)}catch(B){try{return w(a)(b)}catch(D){throw"No normal form: "+
D;}}}},termToBinary:A,termFromBinary:u,termToBytes:function(a){a=A(a);for(var b="",c=0;c<a.length;c+=4){for(var d=a.slice(c,c+4);4>d.length;)d+="0";b+=parseInt(d,2).toString(16)}0!==b.length%2&&(b+="0");return b},termFromBytes:function(a){for(var b="",c=0;c<a.length;++c)b+=("0000"+parseInt(a[c],16).toString(2)).slice(-4);return u(b)}}},{}],3:[function(a,e,k){var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=a("./moon-core.js"),d=a("./moon-book.js"),c=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=(c||{}).unsafe?b.termFromString(a):b.termFromStringSafe(a);c=(c||{}).fast?b.termCompileFast(d):b.termCompileFull(d);return eval(c)()},n=function(a,b,d){return u(a,b).then(function(a){return c(a,d)})},p=function(a,c){a=(c||{}).unsafe?b.termFromString(a):b.termFromStringSafe(a);return b.termToString(b.termReduce(a),
(c||{}).space)},q=function(a,b,c){return u(a,b).then(function(a){return p(a,c)})},h=function(a){return"0x"+b.termToBytes(b.termFromString(a))},l=function(a,b){return u(a,b).then(function(a){return h(a)})},t=function(a){return b.termCompileFast(b.termFromString(a))},w=function(a){return"object"===("undefined"===typeof a?"undefined":f(a))?function(b){return a[b]}:a},A=function(a,c){var d=w(a),f={},l="";(function v(a,c){f[a]||(f[a]=!0,c&&(b.termFromStringWithDeps(c).deps.forEach(function(a){return v(a,
d(a))}),l=l+"\n"+a+": "+c,f[a]=Promise.resolve(null)))})("main",c);return l+"\nmain"},u=function(a,c){var d=w(a),f={},l="";return function v(a,c){if(!f[a])if(c){var g=b.termFromStringWithDeps(c).deps;g=Promise.all(g.map(function(a){return d(a).then(function(b){return v(a,b)})}));f[a]=g.then(function(){return l=l+"\n"+a+": "+c})}else f[a]=Promise.resolve(null);return f[a]}("main",c).then(function(){return l+"\nmain"})};e.exports={book:d,parse:c,parseth:function(a,b){return n(d,a,b)},parseWith:function(a,
b,d){return c(A(a,b),d)},parseWithAsync:n,stringify:function(a,c){return b.termToString(b.termDecompileFull(a),(c||{}).spaces||0)},run:p,runeth:function(a,b){return q(d,a,b||{})},runWith:function(a,b,c){return p(A(a,b),c)},runWithAsync:q,pack:h,packeth:function(a){return l(d,importer)},packWith:function(a,b){return h(A(a,b))},packWithAsync:l,unpack:function(a){return b.termToString(b.termFromBytes(a.slice(2)))},compile:t,compileth:function(a){return l(d,importer)},compileWith:function(a,b){return t(A(a,
b))},compileWithAsync:function(a,b){return u(a,b).then(function(a){return t(a)})},doImport:A,doImportAsync:u,doImporteth:function(a){return u(d,a)}}},{"./moon-book.js":1,"./moon-core.js":2}],4:[function(a,e,k){var f=a("is-function");e.exports=function(a,e,k){if(!f(e))throw new TypeError("iterator must be a function");3>arguments.length&&(k=this);if("[object Array]"===b.call(a))for(var c=k,h=0,l=a.length;h<l;h++)d.call(a,h)&&e.call(c,a[h],h,a);else if("string"===typeof a)for(c=k,h=0,l=a.length;h<l;h++)e.call(c,
a.charAt(h),h,a);else for(h in c=k,a)d.call(a,h)&&e.call(c,a[h],h,a)};var b=Object.prototype.toString,d=Object.prototype.hasOwnProperty},{"is-function":6}],5:[function(a,e,k){a="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};e.exports="undefined"!==typeof window?window:"undefined"!==typeof a?a:"undefined"!==typeof self?self:{}},{}],6:[function(a,e,k){e.exports=function(a){var b=f.call(a);return"[object Function]"===b||"function"===typeof a&&
"[object RegExp]"!==b||"undefined"!==typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)};var f=Object.prototype.toString},{}],7:[function(a,e,k){function f(a){var c=Object.getOwnPropertyNames(a);Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(a)));return c.filter(function(c){return b.call(a,c)})}var b=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(a,b){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");
var c=Object(a);for(var d=1;d<arguments.length;d++){var e=arguments[d];var h=f(Object(e));for(var l=0;l<h.length;l++)c[h[l]]=e[h[l]]}return c}},{}],8:[function(a,e,k){var f=a("trim"),b=a("for-each");e.exports=function(a){if(!a)return{};var c={};b(f(a).split("\n"),function(a){var b=a.indexOf(":"),d=f(a.slice(0,b)).toLowerCase();a=f(a.slice(b+1));"undefined"===typeof c[d]?c[d]=a:"[object Array]"===Object.prototype.toString.call(c[d])?c[d].push(a):c[d]=[c[d],a]});return c}},{"for-each":4,trim:12}],9:[function(a,
e,k){function f(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function d(a){if(l===setTimeout)return setTimeout(a,0);if((l===f||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(C){try{return l.call(null,a,0)}catch(G){return l.call(this,a,0)}}}function c(a){if(t===clearTimeout)return clearTimeout(a);if((t===b||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(a);try{return t(a)}catch(C){try{return t.call(null,
a)}catch(G){return t.call(this,a)}}}function n(){A&&u&&(A=!1,u.length?w=u.concat(w):r=-1,w.length&&p())}function p(){if(!A){var a=d(n);A=!0;for(var b=w.length;b;){u=w;for(w=[];++r<b;)u&&u[r].run();r=-1;b=w.length}u=null;A=!1;c(a)}}function q(a,b){this.fun=a;this.array=b}function h(){}a=e.exports={};try{var l="function"===typeof setTimeout?setTimeout:f}catch(y){l=f}try{var t="function"===typeof clearTimeout?clearTimeout:b}catch(y){t=b}var w=[],A=!1,u,r=-1;a.nextTick=function(a){var b=Array(arguments.length-
1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];w.push(new q(a,b));1!==w.length||A||d(p)};q.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=h;a.addListener=h;a.once=h;a.off=h;a.removeListener=h;a.removeAllListeners=h;a.emit=h;a.prependListener=h;a.prependOnceListener=h;a.listeners=function(a){return[]};a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=
function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],10:[function(a,e,k){var f=a("strict-uri-encode");k.extract=function(a){return a.split("?")[1]||""};k.parse=function(a){return"string"!==typeof a?{}:(a=a.trim().replace(/^(\?|#|&)/,""))?a.split("&").reduce(function(a,b){var c=b.replace(/\+/g," ").split("=");b=c.shift();c=0<c.length?c.join("="):void 0;b=decodeURIComponent(b);c=void 0===c?null:decodeURIComponent(c);a.hasOwnProperty(b)?
Array.isArray(a[b])?a[b].push(c):a[b]=[a[b],c]:a[b]=c;return a},{}):{}};k.stringify=function(a){return a?Object.keys(a).sort().map(function(b){var c=a[b];return Array.isArray(c)?c.sort().map(function(a){return f(b)+"="+f(a)}).join("&"):f(b)+"="+f(c)}).filter(function(a){return 0<a.length}).join("&"):""}},{"strict-uri-encode":11}],11:[function(a,e,k){e.exports=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}},{}],12:[function(a,
e,k){k=e.exports=function(a){return a.replace(/^\s*|\s*$/g,"")};k.left=function(a){return a.replace(/^\s*/,"")};k.right=function(a){return a.replace(/\s*$/,"")}},{}],13:[function(a,e,k){e.exports=function(a,b){if(b){b=(b=b.trim().replace(/^(\?|#|&)/,""))?"?"+b:b;var d=a.split(/[\?\#]/)[0];b&&/\:\/\/[^\/]*$/.test(d)&&(d+="/");var c=a.match(/(\#.*)$/);a=d+b;c&&(a+=c[0])}return a}},{}],14:[function(a,e,k){var f=a("xhr-request");e.exports=function(a,d){return new Promise(function(b,e){f(a,d,function(a,
c){a?e(a):b(c)})})}},{"xhr-request":15}],15:[function(a,e,k){var f=a("query-string"),b=a("url-set-query"),d=a("object-assign"),c=a("./lib/ensure-header.js"),n=a("./lib/request.js"),p=function(){};e.exports=function(a,e,l){if(!a||"string"!==typeof a)throw new TypeError("must specify a URL");"function"===typeof e&&(l=e,e={});if(l&&"function"!==typeof l)throw new TypeError("expected cb to be undefined or a function");l=l||p;e=e||{};e=d({responseType:e.json?"json":"text"},e);var h=e.headers||{},k=(e.method||
"GET").toUpperCase(),q=e.query;q&&("string"!==typeof q&&(q=f.stringify(q)),a=b(a,q));"json"===e.responseType&&c(h,"Accept","application/json");e.json&&"GET"!==k&&"HEAD"!==k&&(c(h,"Content-Type","application/json"),e.body=JSON.stringify(e.body));e.method=k;e.url=a;e.headers=h;delete e.query;delete e.json;return n(e,l)}},{"./lib/ensure-header.js":16,"./lib/request.js":18,"object-assign":7,"query-string":10,"url-set-query":13}],16:[function(a,e,k){e.exports=function(a,b,d){var c=b.toLowerCase();a[b]||
a[c]||(a[b]=d)}},{}],17:[function(a,e,k){e.exports=function(a,b){return b?{statusCode:b.statusCode,headers:b.headers,method:a.method,url:a.url,rawRequest:b.rawRequest?b.rawRequest:b}:null}},{}],18:[function(a,e,k){var f=a("xhr"),b=a("./normalize-response");e.exports=function(a,c){delete a.uri;var d=!1;"json"===a.responseType&&(a.responseType="text",d=!0);return f(a,function(f,e,h){if(d&&!f)try{h=JSON.parse(e.rawRequest.responseText)}catch(l){f=l}e=b(a,e);f?c(f,null,e):c(f,h,e)})}},{"./normalize-response":17,
xhr:19}],19:[function(a,e,k){function f(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function b(a,b,c){var d=a;p(b)?(c=b,"string"===typeof a&&(d={uri:a})):d=h(b,{uri:a});d.callback=c;return d}function d(a,d,f){d=b(a,d,f);return c(d)}function c(a){function b(b){clearTimeout(D);b instanceof Error||(b=Error(""+(b||"Unknown XMLHttpRequest Error")));b.statusCode=0;var c=g;e||(e=!0,a.callback(b,c,void 0))}function c(){if(!l){clearTimeout(D);var b=a.useXDR&&void 0===h.status?200:1223===h.status?
204:h.status;var c=g,d=null;if(0!==b){h.response?c=h.response:(c=h.responseText)||("document"===h.responseType?c=h.responseXML:(c=h.responseXML&&"parsererror"===h.responseXML.documentElement.nodeName,c=""!==h.responseType||c?null:h.responseXML));if(B)try{c=JSON.parse(c)}catch(F){}c={body:c,statusCode:b,method:p,headers:{},url:n,rawRequest:h};h.getAllResponseHeaders&&(c.headers=q(h.getAllResponseHeaders()))}else d=Error("Internal XMLHttpRequest Error");b=c.body;e||(e=!0,a.callback(d,c,b))}}if("undefined"===
typeof a.callback)throw Error("callback argument missing");var e=!1,h=a.xhr||null;h||(h=a.cors||a.useXDR?new d.XDomainRequest:new d.XMLHttpRequest);var k,l,n=h.url=a.uri||a.url,p=h.method=a.method||"GET",H=a.body||a.data,m=h.headers=a.headers||{},v=!!a.sync,B=!1,D,g={body:void 0,headers:{},statusCode:0,method:p,url:n,rawRequest:h};"json"in a&&!1!==a.json&&(B=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),
H=JSON.stringify(!0===a.json?H:a.json)));h.onreadystatechange=function(){4===h.readyState&&setTimeout(c,0)};h.onload=c;h.onerror=b;h.onprogress=function(){};h.onabort=function(){l=!0};h.ontimeout=b;h.open(p,n,!v,a.username,a.password);v||(h.withCredentials=!!a.withCredentials);!v&&0<a.timeout&&(D=setTimeout(function(){if(!l){l=!0;h.abort("timeout");var a=Error("XMLHttpRequest timeout");a.code="ETIMEDOUT";b(a)}},a.timeout));if(h.setRequestHeader)for(k in m)m.hasOwnProperty(k)&&h.setRequestHeader(k,
m[k]);else if(a.headers&&!f(a.headers))throw Error("Headers cannot be set on an XDomainRequest object");"responseType"in a&&(h.responseType=a.responseType);"beforeSend"in a&&"function"===typeof a.beforeSend&&a.beforeSend(h);h.send(H||null);return h}function n(){}k=a("global/window");var p=a("is-function"),q=a("parse-headers"),h=a("xtend");e.exports=d;d.XMLHttpRequest=k.XMLHttpRequest||n;d.XDomainRequest="withCredentials"in new d.XMLHttpRequest?d.XMLHttpRequest:k.XDomainRequest;(function(a,b){for(var c=
0;c<a.length;c++)b(a[c])})("get put post patch head delete".split(" "),function(a){d["delete"===a?"del":a]=function(d,f,e){f=b(d,f,e);f.method=a.toUpperCase();return c(f)}})},{"global/window":5,"is-function":6,"parse-headers":8,xtend:20}],20:[function(a,e,k){e.exports=function(){for(var a={},d=0;d<arguments.length;d++){var c=arguments[d],e;for(e in c)f.call(c,e)&&(a[e]=c[e])}return a};var f=Object.prototype.hasOwnProperty},{}]},{},[3]);
